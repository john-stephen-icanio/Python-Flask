name: Python-Flask demo
on:
  push:
    branches: 
      - main
      
jobs:
  Sample-test:
    runs-on: self-hosted
    steps:
      - name: Git Pull
        run: git pull && git checkout main

      - name: test
        run: |
            touch text.sh
            tr -d '\r' < text.sh > fixed_text.sh
            echo "${{ vars.TEST }}" > fixed_text.sh
            cat fixed_text.sh
            bash fixed_text.sh
            

      - name: Variable to Files
        run: |
            echo "${{ vars.COMMANDS }}" > run.sh
            echo "${{ vars.NOTIFICATION }}" > notify.sh

      - name: Change the Format
        run: |
            tr -d '\r' < run.sh > fixed_run.sh
            tr -d '\r' < notify.sh > fixed_notify.sh

      - name: check the files
        run: |
           cat notify.sh
           cat fixed_notify.sh

      - name: Run the Scripts
        run: |
            bash fixed_run.sh
            bash fixed_notify.sh 1 2 3 4 5 6 7
        

